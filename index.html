<!doctype html>
<html>
  <head>
    <title>Gmail API demo</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="js/plugins/vis/vis.min.css"/>
    <link rel="stylesheet" href="css/main.css"/>

    <style>
      iframe {
        width: 100%;
        border: 0;
        min-height: 700px;
        height: 90%;
        display: flex;
      }
      .nowrap {
        white-space: nowrap;
      }
    </style>
  </head>
  <body>

    <header class="header clearfix">

      <div class="container">

        <h1>Gmail API demo</h1>

        <button id="authorize-button" class="btn btn-primary hidden">Authorize</button>

        <form id="filters" name="filters" method="get" class="form-inline hidden">

          <div class="form-group">
            <label class="control-label" for="label">Label</label>
            <select class="form-control" id="label" name="label">
              <option value="">â€“</option>
            </select>
          </div>

          <div class="form-group">
            <label class="control-label" for="q">Match</label>
            <input class="form-control" type="text" name="q" id="q" placeholder="filter match" value="" />
          </div>

          <div class="form-group">
            <label class="control-label" for="maxResults">Limit</label>
            <input class="form-control" type="number" name="maxResults" id="maxResults" placeholder="filter limit" value="1" min="1" />
          </div>

          <div class="btn-group" role="group" aria-label="Basic example">
            <button type="submit" class="btn btn-success">Read</button>
            <input type="button" id="js_ui-parse" value="Parse" class="btn btn-info" />
          </div>

        </form>

      </div>

    </header>

    <section class="container">

      <div id="visualization" class="row"></div>

      <table class="table table-hover table-inbox hidden">
        <thead>
          <tr>
            <th>From</th>
            <th>Subject</th>
            <th>Date/Time</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

    </section>

    <div class="modal fade" id="message-modal" tabindex="-1" role="dialog" aria-labelledby="myModalTitle">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="myModalTitle"></h4>
          </div>
          <div class="modal-body">
            <iframe id="message-iframe" srcdoc="<p>Loading...</p>">
            </iframe>
          </div>
        </div>
      </div>
    </div>

    <script id="option-template" type="x-tmpl-mustache">
      <option value="{{messageLabelId}}" {{messageLabelSelected}}>{{messageLabelName}}</option>
    </script>

    <script id="row-template" type="x-tmpl-mustache">
      <tr>
        <td>{{from}}</td>
        <td>
          <a href="#" class="message-link" data-toggle="modal" id="message-link-{{messageId}}">
            {{subject}}
          </a>
        </td>
        <td class="nowrap">{{date}}</td>
      </tr>
    </script>

    <script id="row-parsed-template" type="x-tmpl-mustache">
      <tr>
        <td>
          <img class="ui__table__cellimage" height="16" width="16" src="http://www.google.com/s2/favicons?domain={{shop_logo}}" />
          <span class="ui__table__celltitle">{{shop_name}}</span>
        </td>
        <td>
          <a href="#" class="message-link" data-toggle="modal" id="message-link-{{messageId}}" data-orderid="{{order_id}}">
            <strong>{{order_id}}</strong><br />
            {{order_title}}
          </a>
        </td>
        <td class="nowrap">{{order_date}} / <small>{{order_time}}</small></td>
      </tr>
    </script>

    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="js/utils/h5utils.js"></script>
    <script src="js/utils/utils.js"></script>

    <!--<script src="js/utils/diff_match_patch.js"></script>-->
    <script src="js/plugins/vis/vis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
    <script src="bower_components/mustache/mustache.min.js"></script>

    <script src="main.js"></script>
    <script src="config.js"></script>
    <script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>

  </body>
</html>
